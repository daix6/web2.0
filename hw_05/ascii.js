//Achieve turbo speed and unobtrusive Javascript
//Control Enabling not completely achieved
//And I have the custom in my ascii.js rather than asciimation.txt!

$ = function(id) {
	return document.getElementById(id);
}

var custom = 
"\n" + 
"\n" +
" ,--^----------,--------,-----,-------^--,\n" + 
"  | |||||||||   `--------\'     |          O\n" + 
"  `+---------------------------^----------|\n" + 
"    `\\_,-------, _________________________|\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" +
"\n" + "=====\n"+
"\n" + 
"\n" + 
" ,--^----------,--------,-----,-------^--,\n" + 
"  | |||||||||   `--------\'     |          O\n" + 
"  `+---------------------------^----------|\n" + 
"    `\\_,-------, _________________________|\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" +
"\n" + "=====\n"+
"\n" + 
"\n" + 
" ,--^----------,--------,-----,-------^--,  /          ____\n" + 
"  | |||||||||   `--------\'     |          O --         /    \\\n" + 
"  `+---------------------------^----------| \\         \\____/\n" + 
"    `\\_,-------, _________________________|\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX / /     /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" + 
"\n" + "=====\n"+
"\n" + 
"\n" + 
" ,--^----------,--------,-----,-------^--,                         ____                o   o\n" + 
"  | |||||||||   `--------\'     |          O                        /    \\              /|\\ /|\\\n" + 
"  `+---------------------------^----------|                       \\____/              / \\ / \\\n" + 
"    `\\_,-------, _________________________|\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" + 
"\n" + "=====\n"+ 
"\n" + 
"\n" + 
" ,--^----------,--------,-----,-------^--,                                       ____ o   o\n" + 
"  | |||||||||   `--------\'     |          O                                     /    /|\\ /|\\\n" + 
"  `+---------------------------^----------|                                     \\____/ \\ / \\\n" + 
"    `\\_,-------, _________________________|\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" +
"\n" + "=====\n"+ 
"                                                                                         \\\n" + 
"                                                                                OH!My body!\n" + 
" ,--^----------,--------,-----,-------^--,                                       o     o\n" + 
"  | |||||||||   `--------\'     |          O                              /      /|\\   /|\n" + 
"  `+---------------------------^----------|                                            \\\n" + 
"    `\\_,-------, _________________________|                               \\\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /                                                             /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" +
"\n" + "=====\n"+ 
"                                                                                         \\\n" + 
"                                                                                OH!My body!\n" + 
" ,--^----------,--------,-----,-------^--,                                       o     o\n" + 
"  | |||||||||   `--------\'     |          O                              /      /|\\   /|\n" + 
"  `+---------------------------^----------|                                            \\\n" + 
"    `\\_,-------, _________________________|                               \\\n" + 
"      / XXXXXX /`|     /\n" + 
"     / XXXXXX /  `\\   /                                                             /\n" + 
"    / XXXXXX /\\______(  \n" + 
"   / XXXXXX /\n" + 
"  / XXXXXX /\n" + 
" (________(\n" + 
"  `------\'  \n" +
"\n" +  "=====\n"+ 
"\n" + 
"\n" +
"           |\n" + 
"       \\       /\n" + 
"         .---. \n" + 
"    \'-.  |   |  .-\'\n" + 
"      ___|   |___\n" + 
" -=  [           ]  =-\n" + 
"     `---.   .---\' \n" + 
"  __||__ |   | __||__\n" + 
"  \'-..-\' |   | \'-..-\'\n" + 
"    ||   |   |   ||\n" + 
"    ||_.-|   |-,_||\n" + 
"  .-\"`   `\"`\'`   `\"-.\n" + 
".\'                   \'.\n" +
"\n" + "=====\n"+
"\n" + 
"\n" + 
"           |\n" + 
"       \\       /\n" + 
"         .---. \n" + 
"    \'-.  |   |  .-\'\n" + 
"      ___|   |___\n" + 
" -=  [           ]  =-\n" + 
"     `---.   .---\' \n" + 
"  __||__ |   | __||__\n" + 
"  \'-..-\' |   | \'-..-\'\n" + 
"    ||   |   |   ||\n" + 
"    ||_.-|   |-,_||\n" + 
"  .-\"`   `\"`\'`   `\"-.\n" + 
".\'                   \'.\n" +
"\n" +  "=====\n" + 
"\n" + 
"\n" +
"           |\n" + 
"       \\       /\n" + 
"         .---. \n" + 
"    \'-.  |   |  .-\'\n" + 
"      ___|   |___\n" + 
" -=  [           ]  =-\n" + 
"     `---.   .---\' \n" + 
"  __||__ |   | __||__\n" + 
"  \'-..-\' |   | \'-..-\'\n" + 
"    ||   |   |   ||\n" + 
"    ||_.-|   |-,_||\n" + 
"  .-\"`   `\"`\'`   `\"-.\n" + 
".\'                   \'.\n" +
"\n" + "=====\n" +
"\n" + 
"\n" + 
"           |\n" + 
"       \\       /\n" + 
"         .---. \n" + 
"    \'-.  |   |  .-\'\n" + 
"      ___|   |___\n" + 
" -=  [           ]  =-\n" + 
"     `---.   .---\' \n" + 
"  __||__ |   | __||__\n" + 
"  \'-..-\' |   | \'-..-\'\n" + 
"    ||   |   |   ||\n" + 
"    ||_.-|   |-,_||\n" + 
"  .-\"`   `\"`\'`   `\"-.\n" + 
".\'                   \'.\n";

ANIMATIONS["Custom"] = custom;

window.onload = function () {
	figure = $("displayarea");

	$("start").onclick = startPlay;
	$("stop").onclick = stopPlay;
	$("selectAnimation").onchange = changeAnimation;
	$("speed").onclick = changeSpeed;
	var sizeChoice = document.getElementsByName("size");
	for (var i = 0; i < sizeChoice.length; i++) {
		sizeChoice[i].onclick = changeSize;
	}

	Animation = ANIMATIONS["Blank"];
	subAnimations = Animation.split("=====\n");
	animationLength = subAnimations.length;

	currentAnimation = 0;
	figure.value = subAnimations[currentAnimation];

	interval = 200;
	isPlaying = false;
}

function startPlay() {
	if (isPlaying) return;
	intervalTimer = setInterval(nextAnimation, interval);
	isPlaying = true;
}

function stopPlay() {
	if (!isPlaying) return;
	clearInterval(intervalTimer);
	isPlaying = false;
}

function nextAnimation() {
	if (currentAnimation == animationLength)
		currentAnimation = 0;
	figure.value = subAnimations[currentAnimation];
	currentAnimation++;
}

function changeAnimation() {
	Animation = ANIMATIONS[this.value];
	subAnimations = Animation.split("=====\n");
	animationLength = subAnimations.length;
	
	currentAnimation = 0;
	figure.value = subAnimations[currentAnimation];
}

function changeSize() {
	if (this.value == "medium") figure.style.fontSize = "12pt";
	else if (this.value == "small") figure.style.fontSize = "7pt";
	else figure.style.fontSize = "24pt";
}

function changeSpeed() {
	if (this.checked == true) {
		interval = 50;
		if (!isPlaying) return;
		clearInterval(intervalTimer);
		intervalTimer = setInterval(nextAnimation, interval);
	} else {
		interval = 200;
		if (!isPlaying) return;
		clearInterval(intervalTimer);
		intervalTimer = setInterval(nextAnimation, interval);
	}

}